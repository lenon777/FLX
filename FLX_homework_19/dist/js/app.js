"use strict";function finalResult(e,t,n){var s=document.getElementsByClassName("main-wrapper")[0],r=document.getElementsByClassName("button-section")[0],i=document.getElementsByClassName("rules-section")[0];s.removeChild(r),i.innerHTML="\n    <h1>GAME OVER</h1>\n    ";var o=document.getElementsByClassName("img")[0],a=document.getElementsByClassName("game-info")[0];2<=e||1===e&&2===n?setTimeout(function(){o.setAttribute("src","./img/winner.jpg"),o.setAttribute("alt","winner"),a.innerHTML="You are a winner!"},2e3):2<=t||1===t&&2===n?setTimeout(function(){o.setAttribute("src","./img/looser.gif"),o.setAttribute("alt","looser"),a.innerHTML="You are a looser!"},3e3):(3===n||1===e&&1===t&&1===n)&&setTimeout(function(){o.setAttribute("src","./img/draw.jpg"),o.setAttribute("alt","draw"),a.innerHTML="A Draw!"},3e3);var c=document.createElement("button");c.setAttribute("class","new-game-button"),c.innerText="Play again",wrapper.appendChild(c),c.onclick=function(){location.reload()}}function listener(){var t=0,n=0,s=0,r=0,e=document.getElementById("rock-button"),i=document.getElementById("paper-button"),o=document.getElementById("scissors-button"),a=document.getElementById("reset-button"),c=document.getElementsByClassName("game-info")[0];e.addEventListener("click",function(){var e=randomNumber();"scissors"===e?(n++,2<++t&&finalResult(n,s,r),c.innerText="Round ".concat(t,",  Rock vs. Scissors, You’ve WON!")):"paper"===e?(s++,2<++t&&finalResult(n,s,r),c.innerText="Round ".concat(t,",  Rock vs. Paper, You’ve LOST!")):(r++,t++,c.innerText="Round ".concat(t,",  Rock vs. Rock, a draw"),2<t&&finalResult(n,s,r))}),i.addEventListener("click",function(){var e=randomNumber();"rock"===randomNumber()?(n++,2<++t&&finalResult(n,s,r),c.innerText="Round ".concat(t,",  Paper vs. Rock, You’ve WON!")):"scissors"===e?(s++,2<++t&&finalResult(n,s,r),c.innerText="Round ".concat(t,",  Paper vs. Scissors, You’ve LOST!")):(r++,t++,c.innerText="Round ".concat(t,",  Paper vs. Paper, a draw"),2<t&&finalResult(n,s,r))}),o.addEventListener("click",function(){var e=randomNumber();"paper"===e?(n++,2<++t&&finalResult(n,s,r),c.innerText="Round ".concat(t,",  Scissors vs. Paper, You’ve WON!")):"rock"===e?(s++,2<++t&&finalResult(n,s,r),c.innerText="Round ".concat(t,",  Scissors vs. Rock, You’ve LOST!")):(r++,t++,c.innerText="Round ".concat(t,",  Scissors vs. Scissors, a draw"),2<t&&finalResult(n,s,r))}),a.addEventListener("click",function(){c.innerText="",r=s=n=t=0})}var wrapper=document.getElementsByClassName("wrapper")[0],mainPage='<div class="main-wrapper">\n        <div class="rules-section">\n            <h2>Game rules:</h2>\n            <ul class="list-section">\n                <li>Scissors beats a paper</li>\n                <li>Paper beats a rock</li>\n                <li>Rock beats a scissors</li>\n                <li>And we play three rounds!</li>\n            </ul>\n            <h1>Let’s play!</h1>\n        </div>\n        <div class="button-section">\n            <button id="rock-button">Rock</button>\n            <button id="paper-button">Paper</button>\n            <button id="scissors-button">Scissors</button>\n            <button id="reset-button">Reset</button>\n        </div>\n        <div class="img-section">\n        <img class="img" src="./img/gif.gif" alt="rock,paper,scissors">\n        </div>\n        <p class="game-info"></p>\n    </div>';function randomNumber(){var e=document.getElementsByClassName("img")[0],t=Math.floor(Math.random()*Math.floor(3));switch(hideRules(),t){case 0:return e.setAttribute("src","./img/rock.jpg"),e.setAttribute("alt","rock"),"rock";case 1:return e.setAttribute("src","./img/paper.jpg"),e.setAttribute("alt","paper"),"paper";case 2:return e.setAttribute("src","./img/scissors.jpg"),e.setAttribute("alt","scissors"),"scissors"}}function hideRules(){document.getElementsByClassName("rules-section")[0].style.display="none"}wrapper.innerHTML=mainPage,listener();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbWVSZXN1bHQuanMiLCJsaXN0ZW5lci5qcyIsIm1haW4uanMiLCJyYW5kb20uanMiXSwibmFtZXMiOlsiZmluYWxSZXN1bHQiLCJwb2ludHMiLCJsb3NzIiwiZHJhdyIsIm1haW5XcmFwcGVyIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiYnV0dG9uU2VjdGlvbiIsInJ1bGVzU2VjdGlvbiIsInJlbW92ZUNoaWxkIiwiaW5uZXJIVE1MIiwiaW1nIiwiZ2FtZUluZm8iLCJzZXRUaW1lb3V0Iiwic2V0QXR0cmlidXRlIiwibmV3R2FtZUJ0biIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lclRleHQiLCJ3cmFwcGVyIiwiYXBwZW5kQ2hpbGQiLCJvbmNsaWNrIiwibG9jYXRpb24iLCJyZWxvYWQiLCJsaXN0ZW5lciIsImdhbWVDb3VudGVyIiwicm9ja0J1dHRvbiIsImdldEVsZW1lbnRCeUlkIiwicGFwZXJCdXR0b24iLCJzY2lzc29yc0J1dHRvbiIsInJlc2V0QnV0dG9uIiwiYW5ub3VuY2VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlc3VsdCIsInJhbmRvbU51bWJlciIsImNvbmNhdCIsIm1haW5QYWdlIiwiX2ludCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImhpZGVSdWxlcyIsInN0eWxlIiwiZGlzcGxheSJdLCJtYXBwaW5ncyI6IkFBQUEsYUFFQSxTQUFBQSxZQUFBQyxFQUFBQyxFQUFBQyxHQUNBLElBQUFDLEVBQUFDLFNBQUFDLHVCQUFBLGdCQUFBLEdBQ0FDLEVBQUFGLFNBQUFDLHVCQUFBLGtCQUFBLEdBQ0FFLEVBQUFILFNBQUFDLHVCQUFBLGlCQUFBLEdBQ0FGLEVBQUFLLFlBQUFGLEdBQ0FDLEVBQUFFLFVBQUEsaUNBQ0EsSUFBQUMsRUFBQU4sU0FBQUMsdUJBQUEsT0FBQSxHQUNBTSxFQUFBUCxTQUFBQyx1QkFBQSxhQUFBLEdBRUEsR0FBQUwsR0FBQSxJQUFBQSxHQUFBLElBQUFFLEVBQ0FVLFdBQUEsV0FDQUYs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YUFBQSxNQUFBLGtCQUNBSCxFQUFBRyxhQUFBLE1BQUEsUUFDQSxPQUVBLEtBQUEsRUFHQSxPQUZBSCxFQUFBRyxhQUFBLE1BQUEsbUJBQ0FILEVBQUFHLGFBQUEsTUFBQSxTQUNBLFFBRUEsS0FBQSxFQUdBLE9BRkFILEVBQUFHLGFBQUEsTUFBQSxzQkFDQUgsRUFBQUcsYUFBQSxNQUFBLFlBQ0EsWUFJQSxTQUFBMEIsWUFDQW5DLFNBQUFDLHVCQUFBLGlCQUFBLEdBQ0FtQyxNQUFBQyxRQUFBLE9EekJBeEIsUUFBQVIsVUFBQXlCLFNBQ0FaIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBmaW5hbFJlc3VsdChwb2ludHMsIGxvc3MsIGRyYXcpIHtcbiAgdmFyIG1haW5XcmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbWFpbi13cmFwcGVyJylbMF07XG4gIHZhciBidXR0b25TZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYnV0dG9uLXNlY3Rpb24nKVswXTtcbiAgdmFyIHJ1bGVzU2VjdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3J1bGVzLXNlY3Rpb24nKVswXTtcbiAgbWFpbldyYXBwZXIucmVtb3ZlQ2hpbGQoYnV0dG9uU2VjdGlvbik7XG4gIHJ1bGVzU2VjdGlvbi5pbm5lckhUTUwgPSBcIlxcbiAgICA8aDE+R0FNRSBPVkVSPC9oMT5cXG4gICAgXCI7XG4gIHZhciBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbWcnKVswXTtcbiAgdmFyIGdhbWVJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ2FtZS1pbmZvJylbMF07XG5cbiAgaWYgKHBvaW50cyA+PSAyIHx8IHBvaW50cyA9PT0gMSAmJiBkcmF3ID09PSAyKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCAnLi9pbWcvd2lubmVyLmpwZycpO1xuICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJ3dpbm5lcicpO1xuICAgICAgZ2FtZUluZm8uaW5uZXJIVE1MID0gJ1lvdSBhcmUgYSB3aW5uZXIhJztcbiAgICB9LCAyMDAwKTtcbiAgfSBlbHNlIGlmIChsb3NzID49IDIgfHwgbG9zcyA9PT0gMSAmJiBkcmF3ID09PSAyKSB7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCAnLi9pbWcvbG9vc2VyLmdpZicpO1xuICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJ2xvb3NlcicpO1xuICAgICAgZ2FtZUluZm8uaW5uZXJIVE1MID0gJ1lvdSBhcmUgYSBsb29zZXIhJztcbiAgICB9LCAzMDAwKTtcbiAgfSBlbHNlIGlmIChkcmF3ID09PSAzIHx8IHBvaW50cyA9PT0gMSAmJiBsb3NzID09PSAxICYmIGRyYXcgPT09IDEpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsICcuL2ltZy9kcmF3LmpwZycpO1xuICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJ2RyYXcnKTtcbiAgICAgIGdhbWVJbmZvLmlubmVySFRNTCA9ICdBIERyYXchJztcbiAgICB9LCAzMDAwKTtcbiAgfVxuXG4gIHZhciBuZXdHYW1lQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIG5ld0dhbWVCdG4uc2V0QXR0cmlidXRlKCdjbGFzcycsICduZXctZ2FtZS1idXR0b24nKTtcbiAgbmV3R2FtZUJ0bi5pbm5lclRleHQgPSAnUGxheSBhZ2Fpbic7XG4gIHdyYXBwZXIuYXBwZW5kQ2hpbGQobmV3R2FtZUJ0bik7XG5cbiAgbmV3R2FtZUJ0bi5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xuICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xuICB9O1xufSIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBsaXN0ZW5lcigpIHtcbiAgdmFyIGdhbWVDb3VudGVyID0gMDtcbiAgdmFyIHBvaW50cyA9IDA7XG4gIHZhciBsb3NzID0gMDtcbiAgdmFyIGRyYXcgPSAwO1xuICB2YXIgcm9ja0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyb2NrLWJ1dHRvbicpO1xuICB2YXIgcGFwZXJCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFwZXItYnV0dG9uJyk7XG4gIHZhciBzY2lzc29yc0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY2lzc29ycy1idXR0b24nKTtcbiAgdmFyIHJlc2V0QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LWJ1dHRvbicpO1xuICB2YXIgYW5ub3VuY2VtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZ2FtZS1pbmZvJylbMF07XG4gIHJvY2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmFuZG9tTnVtYmVyKCk7XG5cbiAgICBpZiAocmVzdWx0ID09PSAnc2Npc3NvcnMnKSB7XG4gICAgICBwb2ludHMrKztcbiAgICAgIGdhbWVDb3VudGVyKys7XG5cbiAgICAgIGlmIChnYW1lQ291bnRlciA+IDIpIHtcbiAgICAgICAgZmluYWxSZXN1bHQocG9pbnRzLCBsb3NzLCBkcmF3KTtcbiAgICAgIH1cblxuICAgICAgYW5ub3VuY2VtZW50LmlubmVyVGV4dCA9IFwiUm91bmQgXCIuY29uY2F0KGdhbWVDb3VudGVyLCBcIiwgIFJvY2sgdnMuIFNjaXNzb3JzLCBZb3VcXHUyMDE5dmUgV09OIVwiKTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PT0gJ3BhcGVyJykge1xuICAgICAgbG9zcysrO1xuICAgICAgZ2FtZUNvdW50ZXIrKztcblxuICAgICAgaWYgKGdhbWVDb3VudGVyID4gMikge1xuICAgICAgICBmaW5hbFJlc3VsdChwb2ludHMsIGxvc3MsIGRyYXcpO1xuICAgICAgfVxuXG4gICAgICBhbm5vdW5jZW1lbnQuaW5uZXJUZXh0ID0gXCJSb3VuZCBcIi5jb25jYXQoZ2FtZUNvdW50ZXIsIFwiLCAgUm9jayB2cy4gUGFwZXIsIFlvdVxcdTIwMTl2ZSBMT1NUIVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZHJhdysrO1xuICAgICAgZ2FtZUNvdW50ZXIrKztcbiAgICAgIGFubm91bmNlbWVudC5pbm5lclRleHQgPSBcIlJvdW5kIFwiLmNvbmNhdChnYW1lQ291bnRlciwgXCIsICBSb2NrIHZzLiBSb2NrLCBhIGRyYXdcIik7XG5cbiAgICAgIGlmIChnYW1lQ291bnRlciA+IDIpIHtcbiAgICAgICAgZmluYWxSZXN1bHQocG9pbnRzLCBsb3NzLCBkcmF3KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBwYXBlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgIHZhciByZXN1bHQgPSByYW5kb21OdW1iZXIoKTtcblxuICAgIGlmIChyYW5kb21OdW1iZXIoKSA9PT0gJ3JvY2snKSB7XG4gICAgICBwb2ludHMrKztcbiAgICAgIGdhbWVDb3VudGVyKys7XG5cbiAgICAgIGlmIChnYW1lQ291bnRlciA+IDIpIHtcbiAgICAgICAgZmluYWxSZXN1bHQocG9pbnRzLCBsb3NzLCBkcmF3KTtcbiAgICAgIH1cblxuICAgICAgYW5ub3VuY2VtZW50LmlubmVyVGV4dCA9IFwiUm91bmQgXCIuY29uY2F0KGdhbWVDb3VudGVyLCBcIiwgIFBhcGVyIHZzLiBSb2NrLCBZb3VcXHUyMDE5dmUgV09OIVwiKTtcbiAgICB9IGVsc2UgaWYgKHJlc3VsdCA9PT0gJ3NjaXNzb3JzJykge1xuICAgICAgbG9zcysrO1xuICAgICAgZ2FtZUNvdW50ZXIrKztcblxuICAgICAgaWYgKGdhbWVDb3VudGVyID4gMikge1xuICAgICAgICBmaW5hbFJlc3VsdChwb2ludHMsIGxvc3MsIGRyYXcpO1xuICAgICAgfVxuXG4gICAgICBhbm5vdW5jZW1lbnQuaW5uZXJUZXh0ID0gXCJSb3VuZCBcIi5jb25jYXQoZ2FtZUNvdW50ZXIsIFwiLCAgUGFwZXIgdnMuIFNjaXNzb3JzLCBZb3VcXHUyMDE5dmUgTE9TVCFcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRyYXcrKztcbiAgICAgIGdhbWVDb3VudGVyKys7XG4gICAgICBhbm5vdW5jZW1lbnQuaW5uZXJUZXh0ID0gXCJSb3VuZCBcIi5jb25jYXQoZ2FtZUNvdW50ZXIsIFwiLCAgUGFwZXIgdnMuIFBhcGVyLCBhIGRyYXdcIik7XG5cbiAgICAgIGlmIChnYW1lQ291bnRlciA+IDIpIHtcbiAgICAgICAgZmluYWxSZXN1bHQocG9pbnRzLCBsb3NzLCBkcmF3KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBzY2lzc29yc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gcmFuZG9tTnVtYmVyKCk7XG5cbiAgICBpZiAocmVzdWx0ID09PSAncGFwZXInKSB7XG4gICAgICBwb2ludHMrKztcbiAgICAgIGdhbWVDb3VudGVyKys7XG5cbiAgICAgIGlmIChnYW1lQ291bnRlciA+IDIpIHtcbiAgICAgICAgZmluYWxSZXN1bHQocG9pbnRzLCBsb3NzLCBkcmF3KTtcbiAgICAgIH1cblxuICAgICAgYW5ub3VuY2VtZW50LmlubmVyVGV4dCA9IFwiUm91bmQgXCIuY29uY2F0KGdhbWVDb3VudGVyLCBcIiwgIFNjaXNzb3JzIHZzLiBQYXBlciwgWW91XFx1MjAxOXZlIFdPTiFcIik7XG4gICAgfSBlbHNlIGlmIChyZXN1bHQgPT09ICdyb2NrJykge1xuICAgICAgbG9zcysrO1xuICAgICAgZ2FtZUNvdW50ZXIrKztcblxuICAgICAgaWYgKGdhbWVDb3VudGVyID4gMikge1xuICAgICAgICBmaW5hbFJlc3VsdChwb2ludHMsIGxvc3MsIGRyYXcpO1xuICAgICAgfVxuXG4gICAgICBhbm5vdW5jZW1lbnQuaW5uZXJUZXh0ID0gXCJSb3VuZCBcIi5jb25jYXQoZ2FtZUNvdW50ZXIsIFwiLCAgU2Npc3NvcnMgdnMuIFJvY2ssIFlvdVxcdTIwMTl2ZSBMT1NUIVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZHJhdysrO1xuICAgICAgZ2FtZUNvdW50ZXIrKztcbiAgICAgIGFubm91bmNlbWVudC5pbm5lclRleHQgPSBcIlJvdW5kIFwiLmNvbmNhdChnYW1lQ291bnRlciwgXCIsICBTY2lzc29ycyB2cy4gU2Npc3NvcnMsIGEgZHJhd1wiKTtcblxuICAgICAgaWYgKGdhbWVDb3VudGVyID4gMikge1xuICAgICAgICBmaW5hbFJlc3VsdChwb2ludHMsIGxvc3MsIGRyYXcpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGFubm91bmNlbWVudC5pbm5lclRleHQgPSBcIlwiO1xuICAgIGdhbWVDb3VudGVyID0gMDtcbiAgICBwb2ludHMgPSAwO1xuICAgIGxvc3MgPSAwO1xuICAgIGRyYXcgPSAwO1xuICB9KTtcbn0iLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHdyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd3cmFwcGVyJylbMF07XG52YXIgbWFpblBhZ2UgPSBcIjxkaXYgY2xhc3M9XFxcIm1haW4td3JhcHBlclxcXCI+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJydWxlcy1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8aDI+R2FtZSBydWxlczo8L2gyPlxcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cXFwibGlzdC1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICAgICAgPGxpPlNjaXNzb3JzIGJlYXRzIGEgcGFwZXI8L2xpPlxcbiAgICAgICAgICAgICAgICA8bGk+UGFwZXIgYmVhdHMgYSByb2NrPC9saT5cXG4gICAgICAgICAgICAgICAgPGxpPlJvY2sgYmVhdHMgYSBzY2lzc29yczwvbGk+XFxuICAgICAgICAgICAgICAgIDxsaT5BbmQgd2UgcGxheSB0aHJlZSByb3VuZHMhPC9saT5cXG4gICAgICAgICAgICA8L3VsPlxcbiAgICAgICAgICAgIDxoMT5MZXRcXHUyMDE5cyBwbGF5ITwvaDE+XFxuICAgICAgICA8L2Rpdj5cXG4gICAgICAgIDxkaXYgY2xhc3M9XFxcImJ1dHRvbi1zZWN0aW9uXFxcIj5cXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVxcXCJyb2NrLWJ1dHRvblxcXCI+Um9jazwvYnV0dG9uPlxcbiAgICAgICAgICAgIDxidXR0b24gaWQ9XFxcInBhcGVyLWJ1dHRvblxcXCI+UGFwZXI8L2J1dHRvbj5cXG4gICAgICAgICAgICA8YnV0dG9uIGlkPVxcXCJzY2lzc29ycy1idXR0b25cXFwiPlNjaXNzb3JzPC9idXR0b24+XFxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cXFwicmVzZXQtYnV0dG9uXFxcIj5SZXNldDwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbWctc2VjdGlvblxcXCI+XFxuICAgICAgICA8aW1nIGNsYXNzPVxcXCJpbWdcXFwiIHNyYz1cXFwiLi9pbWcvZ2lmLmdpZlxcXCIgYWx0PVxcXCJyb2NrLHBhcGVyLHNjaXNzb3JzXFxcIj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgICAgPHAgY2xhc3M9XFxcImdhbWUtaW5mb1xcXCI+PC9wPlxcbiAgICA8L2Rpdj5cIjtcbndyYXBwZXIuaW5uZXJIVE1MID0gbWFpblBhZ2U7XG5saXN0ZW5lcigpOyIsIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiByYW5kb21OdW1iZXIoKSB7XG4gIHZhciBpbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbWcnKVswXTtcblxuICB2YXIgX2ludCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IoMykpO1xuXG4gIGhpZGVSdWxlcygpO1xuXG4gIHN3aXRjaCAoX2ludCkge1xuICAgIGNhc2UgMDpcbiAgICAgIGltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsICcuL2ltZy9yb2NrLmpwZycpO1xuICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJ3JvY2snKTtcbiAgICAgIHJldHVybiAncm9jayc7XG5cbiAgICBjYXNlIDE6XG4gICAgICBpbWcuc2V0QXR0cmlidXRlKCdzcmMnLCAnLi9pbWcvcGFwZXIuanBnJyk7XG4gICAgICBpbWcuc2V0QXR0cmlidXRlKCdhbHQnLCAncGFwZXInKTtcbiAgICAgIHJldHVybiAncGFwZXInO1xuXG4gICAgY2FzZSAyOlxuICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgJy4vaW1nL3NjaXNzb3JzLmpwZycpO1xuICAgICAgaW1nLnNldEF0dHJpYnV0ZSgnYWx0JywgJ3NjaXNzb3JzJyk7XG4gICAgICByZXR1cm4gJ3NjaXNzb3JzJztcbiAgfVxufVxuXG5mdW5jdGlvbiBoaWRlUnVsZXMoKSB7XG4gIHZhciBydWxlc1NlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdydWxlcy1zZWN0aW9uJylbMF07XG4gIHJ1bGVzU2VjdGlvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xufSJdfQ==
